
## 2023/01/02

- コンパイラに与えるヒントのことを型注釈（type annotation)という

## Reactの特徴
- 仮想DOM
  - リアルDOMのプロキシのようなもの
  - リアルDOMより状態管理のしやすかたｔりパフォーマンスを最適化してくれる
  - 仮想DOM→リアルDOM→画面の変化
- 宣言的UI
  - Reactを使わずにUIを実装すると命令的なコードになる
  - どのように表示するかではなく、「このような表示になってほしい」に集中してコードを書ける
- コンポーネントベース
  - Reactには「小さいコンポーネントを組み合わせ、大きなアプリケーションをなす」という思想がある
  - 再利用しやすかったりOSSのコンポーネントを利用できるメリットがある

## Reactでいいねボタンを作ろう
- TSX
  - JSXはJavaScriptを拡張した言語で、JSの中にXML（＝HTML）を直接かけるようにしたもの
  - ReactではJSXを採用することで可読性の高いコードになる
- 関数コンポーネント
  - JSXを戻り値にする関数をReact用語で関数コンポーネントという
  
- useState
  - 関数コンポーネントに状態を持たせるためのReactの機能
  - 🤔 戻り値の意味が分かっていない

## Next.jsで猫画像ジェネレーターを作ろう
### Next.jsの特徴
- Reactをベースにしたフロントエンドフレームワーク
- webpackのようなバンドラーで一定の知識・設定ファイルのメンテナンスが必要
  - Next.jsでは設定なしに簡単にパフォーマンスの高いアプリケーションを構築することができる
- サーバーサイドレンダリング（SSR）や静的サイト生成（SSG）の機能を提供している

- Next.jsではpagesディレクトリ配下のディレクトリ構造がページのルーティングに対応する
  - src/pages/users.tsx → /users
  - src/pages/index.tsx → /

- Next.jsのデータフェッチAPI
  - getInitialProps
    - SSR時にサーバー側でデータ取得の処理が実行される
    - クライアントサイドでルーティングが発生した場合はクライアント側でデータの取得が実行される
    - このAPIはサーバーとクライアントの両方で実行されるため実装難易度が上昇する
    - 公式ドキュメントでも以下2つのデータフェッチ手法が推奨されている
  - getServerSideProps
    - SSRではgetInitialPropsと同様にサーバー側でデータ取得が実行される
    - クライアントサイドでルーティングが発生した場合もデータの取得がサーバーで実行される
    - サーバー側でのみ実行されることが保証される
  - getStaticProps
    - ビルド実行時にのみデータ取得が実行される
    - ページを描画する時にはデータ取得が実行されない
    - ユーザーログインが不要なLPやブログなどの静的なページを構築する時に利用する

- `next build` 最適化されたプロダクション用のコードを生成する
- `next start` プロダクションコードを実行する

## Jest
- JavaScript向けのテストフレームワーク
- ReactやVueだけでなく、Node.js向けのパッケージのテストも行うことができる

```ts
function isZero(value: number): boolean {
  return value === 0;
}
```
```ts
test("0を渡したらtrueになること", () => {
  const result = isZero(0);
  expect(result).toBe(true);
});
```

- Jestではexpect関数と抹茶ーを使って結果が期待する値になっているかを記述する
- マッチャーは `expect` 関数の戻り値に生えてるメソッド
- toBe マッチャーはJSの厳密等価比較(`===`)と同じ
